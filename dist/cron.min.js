!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.Cron=t():e.Cron=t()}(this,function(){return function(e){function t(n){if(r[n])return r[n].exports;var o=r[n]={exports:{},id:n,loaded:!1};return e[n].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var r={};return t.m=e,t.c=r,t.p="",t(0)}([function(e,t,r){e.exports=r(1)},function(e,t){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=function(){function e(t,n){return r(this,e),{data:t,expression:e.make(t,n)}}return o(e,null,[{key:"getDayOfWeekId",value:function(t){return isNaN(parseInt(t))||"number"!=typeof parseInt(t)?e.REVERSE_DAYS_MAP[t.substring(0,3).toUpperCase()]:parseInt(t)}},{key:"make",value:function(){var t=arguments.length<=0||void 0===arguments[0]?{days:[],startTime:null}:arguments[0],r=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];r=n({},e.DEFAULT_OPTIONS,r),t=n({},e.DEFAULT_DATA,t);var o="* * * * * * *",a=o.split(" "),i=t.startTime?t.startTime.split(":").slice(0,3):[],u=t.days.map(e.getDayOfWeekId).sort(function(e,t){return e-t});if(i.length&&(i.length<3&&i.push("00"),i.reverse().forEach(function(e,t){return e?"00"===e?"*":a[t]=e:void 0})),u.length&&(r.numeric||(u=u.map(function(t){return e.DAYS_MAP[t]})),a[5]=u.join(","),r.shorten&&(a=e.shorten(a,r))),!e.isExpressionValid(a)){var s=new Error("Failed to make Cron expression...",a);throw new Error(s)}return"string"==typeof a?a:a.join(" ")}},{key:"parse",value:function(){var t=arguments.length<=0||void 0===arguments[0]?"* * * * * * *":arguments[0];t=t.split(" ").slice(0,7);var r=t.slice(0,3).map(function(e){return"*"===e?"00":e}),n=t[5],o=[];if("*"!==n){n.indexOf(",")>=0&&(n=n.split(","));for(var a=0;a<n.length;a++){var i=n[a];if(i.indexOf("-")>=0){var u=i.split("-");u=u.map(e.getDayOfWeekId),o.push(u[0]);for(var s=1;s<u[u.length-1];s++)o.push(u[0]+s)}else o.push(e.getDayOfWeekId(i))}}return{days:o,startTime:r[2]+":"+r[1]+":"+r[0]}}},{key:"shorten",value:function(t,r){r=n({},e.DEFAULT_OPTIONS,r);var o=Array.isArray(t)?t:t.split(" "),a=null;if("*"!==o[5]&&o[5].indexOf(",")>0){var i=0,u=o[5].split(",").map(e.getDayOfWeekId);if(!u&&!u.length)return t;for(;i<u.length-1;){var s=u[i+1],f=u[i];if(!(f>0&&s-f===1||0===f&&f+s===1)){a=!1;break}a=!0,i++}if(r.numeric||(u=u.map(function(t){return e.DAYS_MAP[t]})),a)return o[5]=u[0]+"-"+u[u.length-1],o.join(" ")}return t}},{key:"isExpressionValid",value:function(e){return!0}},{key:"DEFAULT_DATA",get:function(){return{days:[],startTime:"00:00:00"}}},{key:"DAYS_MAP",get:function(){return{1:"SUN",2:"MON",3:"TUE",4:"WED",5:"THU",6:"FRI",7:"SAT"}}},{key:"REVERSE_DAYS_MAP",get:function(){for(var t=e.DAYS_MAP,r={},n=Object.keys(t),o=0;o<n.length;o++)r[t[o+1]]=o+1;return r}},{key:"DEFAULT_OPTIONS",get:function(){return{shorten:!1,numeric:!0}}}]),e}();t["default"]=a,e.exports=t["default"]}])});